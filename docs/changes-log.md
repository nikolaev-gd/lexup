# История изменений проекта LexUp

Этот документ отслеживает все значимые изменения в проекте LexUp. Изменения отсортированы по дате, начиная с самых последних.

## Формат записи об изменении

```markdown
### [YYYY-MM-DD] Краткое описание изменения

**Тип изменения:** [Новая функция/Исправление/Улучшение/Рефакторинг]

**Описание:**
Подробное описание изменения

**Затронутые компоненты:**
- Список затронутых компонентов
- Ссылки на соответствующие файлы

**Причина изменения:**
Объяснение, почему было необходимо это изменение
```

## Последние изменения

### [2024-01-12] Улучшение обработки markdown в тексте

**Тип изменения:** Улучшение

**Описание:**
Улучшена обработка markdown-форматирования в тексте:
- Оптимизирована работа с markdown-элементами
- Улучшена обработка кликабельных слов внутри форматированного текста
- Исправлено отображение заголовков и форматированного текста
- Сохранена поддержка всех существующих стилей форматирования

**Затронутые компоненты:**
- lib/widgets/markdown_text.dart
- lib/screens/full_text_screen.dart

**Причина изменения:**
Необходимость улучшения работы с форматированным текстом и обеспечения корректного отображения markdown-элементов при сохранении функциональности кликабельных слов.

### [2024-01-11] Добавлен режим автоматического входа для разработки

**Тип изменения:** Улучшение

**Описание:**
Реализован автоматический вход для удобства разработки:
- Добавлен механизм автовхода с предустановленными учетными данными
- Улучшена обработка состояний загрузки и ошибок
- Оптимизировано отображение UI при входе
- Время запуска приложения: ~23 секунды

**Затронутые компоненты:**
- lib/main.dart (AuthGate)
- docs/project-map.md
- docs/current-state.md
- docs/components-map.md

**Причина изменения:**
Оптимизация процесса разработки путем автоматизации входа в систему.

### [2024-12-10] Улучшение обработки слов в карточках

**Тип изменения:** Исправление/Улучшение

**Описание:**
Реализован новый механизм обработки и отображения слов в карточках:
- Добавлена интеллектуальная очистка слов от пунктуации при поиске
- Реализован поиск слов как части более длинных фраз
- Улучшено форматирование заголовков карточек
- Добавлена поддержка многословных выражений

**Затронутые компоненты:**
- lib/widgets/saved_cards.dart
- lib/screens/full_text_screen.dart
- lib/models/card_model.dart

**Причина изменения:**
Необходимость корректной обработки слов с пунктуацией и многословных выражений в карточках.

Подробности: [decisions.md](decisions.md#обработка-и-отображение-слов-в-карточках)

### [2024-01-XX] Рефакторинг кодовой базы

**Тип изменения:** Рефакторинг

**Описание:**
Проведен масштабный рефакторинг кода для улучшения структуры и читаемости. Основные изменения включают:
- Выделение логики работы с API в отдельный сервис
- Создание отдельного сервиса для работы с Firestore
- Создание модели для карточек
- Выделение виджетов в отдельные файлы
- Создание утилитарного класса

**Затронутые компоненты:**
- lib/screens/full_text_screen.dart
- lib/services/api_service.dart
- lib/services/firestore_service.dart
- lib/models/card_model.dart
- lib/widgets/clickable_text.dart
- lib/widgets/saved_cards.dart
- lib/utils/text_utils.dart

**Причина изменения:**
Улучшение организации кода, повышение читаемости и поддерживаемости проекта.

Подробности: [REFACTORING_PLAN.md](REFACTORING_PLAN.md)

### [2024-01-XX] Реализация функции удаления контента

**Тип изменения:** Новая функция

**Описание:**
Добавлена возможность удаления контента и связанных с ним карточек слов. Реализовано:
- Кнопка удаления в интерфейсе
- Подтверждение удаления
- Каскадное удаление связанных карточек
- Обработка ошибок при удалении

**Затронутые компоненты:**
- lib/widgets/content_card.dart
- lib/services/firestore_service.dart
- lib/screens/full_text_screen.dart

**Причина изменения:**
Необходимость предоставить пользователям возможность управления своим контентом.

### [2024-01-XX] Интеграция с Firebase

**Тип изменения:** Новая функция

**Описание:**
Выполнена базовая интеграция с Firebase:
- Настроена аутентификация через email/password и Google
- Настроена база данных Firestore
- Интегрирован Firebase SDK в проект

**Затронутые компоненты:**
- lib/firebase_options.dart
- lib/services/firestore_service.dart
- Конфигурационные файлы Firebase

**Причина изменения:**
Необходимость реализации аутентификации и хранения данных пользователей.

Подробности: [FIREBASE_INTEGRATION.md](FIREBASE_INTEGRATION.md)

### [2024-01-XX] Создание базовой структуры приложения

**Тип изменения:** Новая функция

**Описание:**
Реализована базовая структура приложения:
- Создание основных экранов
- Реализация навигации
- Создание базовых виджетов
- Настройка темы приложения

**Затронутые компоненты:**
- lib/main.dart
- lib/screens/
- lib/widgets/
- lib/models/

**Причина изменения:**
Инициализация проекта и создание основной структуры приложения.

## Планируемые изменения

1. Реализация режима изучения карточек
2. Интеграция AI для генерации упражнений
3. Разработка функционала генерации коротких историй
4. Реализация озвучивания текста
5. Улучшение UI/UX

## Связанные документы

- [current-state.md](current-state.md) - Текущее состояние проекта
- [REFACTORING_PLAN.md](REFACTORING_PLAN.md) - План и статус рефакторинга
- [FIREBASE_INTEGRATION.md](FIREBASE_INTEGRATION.md) - Детали интеграции с Firebase
- [USER_CONTENT_FEATURE.md](USER_CONTENT_FEATURE.md) - Документация по функционалу пользовательского контента
