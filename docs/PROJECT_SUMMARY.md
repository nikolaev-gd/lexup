# Lexup: Приложение для изучения иностранных языков
<!-- IMPORTANT: Always update the entire content of this file -->

## Обзор проекта
Lexup - это кроссплатформенное приложение для изучения иностранных языков, разрабатываемое с использованием Flutter. Приложение позволяет пользователям добавлять собственный контент для изучения, создавать и практиковать карточки слов, а также использует AI для генерации упражнений и историй.

## Основные функции
- Добавление пользовательского контента (тексты, ссылки)
- Создание интерактивных карточек для изучения слов
- AI-генерация упрощенных версий текста и упражнений
- Режим изучения карточек с возможностью сохранения избранных
- Генерация коротких историй на основе изученных слов
- Озвучивание текста
- Аналитика прогресса пользователя
- Персонализированные рекомендации на основе машинного обучения
- Кликабельный текст с интерактивными карточками для каждого слова

## Технический стек
- **Фреймворк:** Flutter
- **Языки программирования:** Dart
- **База данных:** Firebase Firestore
- **Аналитика:** Firebase Analytics, BigQuery
- **Машинное обучение:** Firebase ML, AutoML
- **Аутентификация:** Firebase Authentication
- **Облачные функции:** Firebase Cloud Functions
- **API интеграции:** 
  - OpenAI API (chatgpt-4o-latest) для генерации контента и интерактивных карточек
  - TTS (Text-to-Speech) для озвучивания
- **Управление состоянием:** (TBD - выбрать подходящее решение)
- **CI/CD:** Firebase App Distribution, Fastlane

## Архитектура приложения
- Модульная структура с разделением на автономные компоненты
- MVVM (Model-View-ViewModel) архитектура для отделения бизнес-логики от UI
- Облачное хранение данных с использованием Firebase
- Интеграция аналитики и ML с использованием Firebase Analytics и ML Kit

## Текущий статус разработки
- [x] Создание PROJECT_SUMMARY.md
- [x] Создание базового файла main.dart с минимальной структурой приложения
- [x] Установка Flutter SDK через Homebrew
- [x] Настройка среды для веб-разработки
- [x] Настройка среды для iOS-разработки (Xcode и iOS симулятор уже установлены)
- [x] Тестирование базового приложения в веб-браузере
- [x] Реализация нижней навигационной панели
- [x] Создание базовой структуры основных экранов
- [x] Реализация верхней навигационной панели на экране "Контент"
- [x] Добавление кликабельности к верхней навигационной панели
- [x] Реализация переключения между разделами в верхней навигационной панели
- [x] Выбор Firebase в качестве основного облачного решения
- [x] Реализация улучшенного механизма работы с директориями
- [x] Настройка проекта Firebase
- [x] Настройка Firebase Authentication для регистрации и входа пользователей
- [x] Добавление входа через Google
- [x] Активация Firestore Database
- [x] Реализация базового примера сохранения и отображения данных в Firestore
- [x] Частичная реализация функционала добавления пользовательского контента
- [x] Реализация функциональности упрощения текста с использованием ChatGPT API
- [x] Интеграция упрощенного текста в существующую структуру данных Firestore
- [x] Реализация кликабельного текста в FullTextScreen
- [x] Интеграция с OpenAI API (chatgpt-4o-latest) для генерации контента карточек
- [x] Создание интерактивных карточек для изучения слов
- [x] Отображение информации о слове в попапе при нажатии
- [x] Реализация сохранения карточек в базу данных
- [x] Отображение сохраненных карточек под текстом
- [x] Реализация функционала удаления карточек
- [x] Добавление подтверждения удаления карточек
- [x] Завершение рефакторинга (см. [план рефакторинга](REFACTORING_PLAN.md))

## Последние обновления
### Завершение рефакторинга
- Проведен рефакторинг кода для улучшения структуры и читаемости.
- Все изменения задокументированы в [плане рефакторинга](REFACTORING_PLAN.md).

## Следующие шаги
1. Реализация режима изучения карточек
   - Разработка интерфейса для режима изучения
   - Реализация логики повторения и оценки знаний
2. Интеграция AI для генерации упражнений
   - Разработка промптов для генерации различных типов упражнений
   - Интеграция генерации упражнений в интерфейс приложения
3. Разработка функционала генерации коротких историй на основе изученных слов
4. Реализация озвучивания текста
5. Улучшение пользовательского интерфейса и опыта использования
6. Оптимизация производительности приложения

## Долгосрочные цели
- Реализация всех основных функций, описанных в разделе "Основные функции"
- Разработка и интеграция продвинутых ML-моделей с использованием AutoML
- Создание панели аналитики на основе данных из Firebase Analytics и BigQuery
- Оптимизация производительности и пользовательского опыта
- Настройка системы мониторинга с использованием Firebase Crashlytics
- Подготовка к релизу в App Store и Google Play с использованием Firebase App Distribution
- Интеграция векторной базы данных (например, Pinecone) для улучшенного семантического поиска и рекомендаций

## Заметки по разработке
- Фокус на создании модульной и легко расширяемой архитектуры
- Приоритет производительности и отзывчивости UI
- Регулярное обновление документации и комментариев в коде
- Внедрение логирования для отслеживания ошибок и производительности
- Обеспечение надежного подключения к Firebase и обработка ошибок сети
- Соблюдение принципов безопасности и конфиденциальности при работе с пользовательскими данными
- Оптимизация использования OpenAI API для минимизации затрат и улучшения производительности

## Ресурсы и ссылки
- [Flutter документация](https://flutter.dev/docs)
- [Dart документация](https://dart.dev/guides)
- [Firebase документация](https://firebase.google.com/docs)
- [Firebase Flutter Codelab](https://firebase.google.com/codelabs/firebase-get-to-know-flutter)
- [Firebase ML Kit документация](https://firebase.google.com/docs/ml-kit)
- [BigQuery документация](https://cloud.google.com/bigquery/docs)
- [OpenAI API документация](https://platform.openai.com/docs/api-reference)
